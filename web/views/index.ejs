<!DOCTYPE html>
<html>

<head>
    <title>Search</title>
</head>

<style>
    .main {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    .add {
        display: flex;
        justify-content: center;
        align-items: center;
    }


    .add textarea {
        width: 500px;
        height: 100px;
    }

    .add button {
        width: 100px;
        height: 30px;
        margin-left: 10px;
    }

    .search {
        margin-top: 50px;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .search input {
        width: 500px;
        height: 30px;
    }

    .search button {
        width: 100px;
        height: 30px;
        margin-left: 10px;
    }

    .reset{
        margin-top: 50px;
        display: flex;
        justify-content: right;
        align-items: center;
    }
    .reset button{
        width: 100px;
        height: 30px;
        margin-left: 10px;
    }
</style>

<body>
    <div class="main">
        <div class="add">
            <textarea placeholder="这里输入新增文档" name="document"></textarea>
            <button>新增</button>
        </div>
        <div class="search">
            <input placeholder="这里输入查找内容" name="query"></input>
            <button>搜索</button>
        </div>
        <div class="reset">
            <button>清空所有文档</button>
        </div>
        <div class="show">
            <ul>
                <% results.forEach(function(result) { %>
                    <li> content:<%= result.content %> score:<%= result.score %>
                    </li>
                    <% }); %>
            </ul>
        </div>
    </div>
</body>

<script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>

<script>
    const addBtn = document.querySelector('.add button');
    const searchBtn = document.querySelector('.search button');
    const resetBtn = document.querySelector('.reset button');

    addBtn.addEventListener('click', () => {
        const _document = document.querySelector('.add textarea').value;
        window.location.href = `/add?document=${_document}`;
    })

    searchBtn.addEventListener('click', () => {
        const query = document.querySelector('.search input').value;
        window.location.href = `/search?query=${query}`;
    })

    resetBtn.addEventListener('click', () => {
        window.location.href = `/reset`;
    })
</script>

</html>